/**
 * Created by mohammad on 7/5/15.
 */
var db = require('./db'),
	crypto = require('crypto');

var User = db.Model.extend({
	tableName: 'users',
	documents: function () {
		return this.hasMany(Document);
	},
	posts: function () {
		return this.hasMany(Post);
	}
});

var Document = db.Model.extend({
	tableName: 'documents',
	user: function () {
		return this.belongsTo(User);
	},
	users: function () {
		return this.belongsToMany(User).through(Post);
	},
	posts: function () {
		return this.hasMany(Post);
	}
});

var Post = db.Model.extend({
	tableName: 'posts',
	user: function () {
		return this.belongsTo(User);
	},
	document: function () {
		return this.belongsTo(Document);
	}
});


module.exports = {
	User: User,
	Document: Document,
	Post: Post
};
