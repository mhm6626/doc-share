
module.exports = function(swig, i18n) {
	var tag = {};
	tag.compile = function(compiler, args, content, parents, options, blockName) {
		function myFunc(tokens) {
			return tokens.map(function(token) {
				if (token.content || typeof token !== 'string') {

				} else {
					return  i18n.__(token);
				}
			});
		}

		return compiler(myFunc(content), parents, options, blockName);
	};

	tag.parse = function(str, line, parser, types, options) {
		parser.on('*', function(token) {
			throw new Error('Unexpected token "' + token.match + '" on line ' + line + '.');
		});

		return true;
	};

	tag.ends = true;

	swig.setTag('trans', tag.parse, tag.compile, tag.ends, false);
}